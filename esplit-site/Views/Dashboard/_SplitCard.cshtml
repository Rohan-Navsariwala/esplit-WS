@{
}

@using Common.Types;
@model SplitInfo;

<div class="card mb-3 shadow-sm">
	<h6 class="mb-1 mt-2 mx-3">@Model.SplitDescription</h6>
	<div class="card-body d-flex justify-content-between align-items-center flex-wrap">

		<div class="me-3">
			<small class="text-muted">Created By: @Model.CreatedBy</small><br />
			<small class="text-muted">Amount Pool: ₹@Model.SplitAmount</small>
		</div>

		<div class="mt-2 mt-md-0">
			
			@if (Model.SplitParticipantStatus == SplitStatus.PENDING_APPROVAL)
			{
				<button class="btn btn-sm btn-danger" onclick="Split.methods.rejectSplit(@Model.SplitID)">Reject</button>
			}

			<button class="btn btn-sm btn-success" onclick="Split.methods.splitToggleActionPerformed(@Model.SplitID,@((int)Model.SplitParticipantStatus))">
				@if(Model.SplitParticipantStatus == SplitStatus.PENDING_APPROVAL)
				{
					<span>Approve</span>
				}
				else if (Model.SplitParticipantStatus == SplitStatus.APPROVED_UNPAID)
				{
					<span>Pay</span>
				}
				else
				{
					<span>Close</span>
				}
			</button>
			<button class="btn btn-sm btn-info me-2" onclick="Split.methods.viewSplitStatus(@Model.SplitID)">
				View Status
			</button>


		</div>

	</div>
</div>
